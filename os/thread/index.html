<html xmlns="http://www.w3.org/1999/xhtml"><head><title></title><meta charset="UTF-8"><meta name="generator" content="prezentprogramo 1.0 https://github.com/yoosofan/prezentprogramo"><link rel="stylesheet" href="css/hovercraft.css" media="all"><link rel="stylesheet" href="css/highlight.css" media="all"><link rel="stylesheet" href="css/style.css" media="all"><link rel="stylesheet" href="css/thread.css" media="all"><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        TeX : { extensions : ['color.js'] }
      });
    </script></head><body class="impress-not-supported"><div id="impress" data-width="1024" data-height="768" data-transition-duration="1000"><div class="step step-level-1" step="0" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="operating-systems-thread">Operating Systems: Thread</h1><h2 id="ahmad-yoosofan">Ahmad Yoosofan</h2><p><a href="https://yoosofan.github.io">https://yoosofan.github.io</a></p><p>University of Kashan</p></div><div class="step step-level-1" step="1" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="section-1">&#1581;&#1575;&#1604;&#1578;&#8204;&#1607;&#1575;&#1740; &#1606;&#1582;</h1><img src="img/single_threaded.and.multithreaded.processes.png" align="center"></div><div class="step step-level-1" step="2" id="thread-in-python-i-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="python-thread-i">Python Thread (I)</h1><pre class="highlight code python substep"><span class="ln">1 </span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">3 </span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="nb">print</span><span class="p">(</span><span class="s2">"main"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w"></span><span class="n">f1</span><span class="p">()</span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="nb">print</span><span class="p">(</span><span class="s2">"After f1()"</span><span class="p">)</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w">
</span><span class="ln">3 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="nb">print</span><span class="p">(</span><span class="s2">"main"</span><span class="p">)</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span><span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span><span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span><span class="nb">print</span><span class="p">(</span><span class="s2">"After th1.start()"</span><span class="p">)</span></pre><pre class="highlight code console substep"><span class="go">main
This is a test
After f1()</span></pre><pre class="highlight code console substep"><span class="go">main
After th1.start()
This is a test</span></pre><pre class="highlight code console substep"><span class="go">main
This is a test
After th1.start()</span></pre><pre class="highlight code console substep"><span class="go">main
This is  After th1.start()
a test</span></pre></div><div class="step step-level-1" step="3" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="python-main">Python main</h1><pre class="highlight code python substep"><span class="ln">1 </span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">3 </span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">5 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"main"</span><span class="p">)</span><span class="w">
</span><span class="ln">6 </span><span class="w"></span>  <span class="n">f1</span><span class="p">()</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"After f1()"</span><span class="p">)</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w">
</span><span class="ln">3 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"main"</span><span class="p">)</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"After th1.start()"</span><span class="p">)</span></pre></div><div class="step step-level-1" step="4" id="thread-in-python-ii-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="python-thread-ii">Python Thread (II)</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w">
</span><span class="ln">3 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"In f1"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">():</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"In f2"</span><span class="p">);</span><span class="w">
</span><span class="ln">8 </span><span class="w">
</span><span class="ln">9 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f2</span><span class="p">)</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"main"</span><span class="p">)</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">();</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"After f1"</span><span class="p">)</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">();</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"After f2"</span><span class="p">)</span></pre><pre class="highlight code console substep"><span class="go">main
After f1
After f2
In f1
In f2</span></pre><pre class="highlight code console substep"><span class="go">main
After f1
In f1
After f2
In f2</span></pre><pre class="highlight code console substep"><span class="go">main
After f1
In f1
After f2
In f2</span></pre><pre class="highlight code console substep"><span class="go">main
After f1
After f2
In f2
In f1</span></pre><pre class="highlight code console substep"><span class="go">main
After In f1
After f2
In f2
f1</span></pre></div><div class="step step-level-1" step="5" id="thread-in-python-iii-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><h1 id="python-thread-iii">Python Thread (III)</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span> <span class="c1"># src/thread/240.py</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__111"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">():</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__222"</span><span class="p">)</span><span class="w">
</span><span class="ln">9 </span><span class="w">
</span><span class="ln">10 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f2</span><span class="p">)</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">();</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">();</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__main"</span><span class="p">)</span></pre><pre class="highlight code console substep"><span class="go">python3 240.py &gt; 240output65.txt
python3 240.py &gt; 240output55.txt
python3 240.py &gt; 240output45.txt
python3 240.py &gt; 240output35.txt
python3 240.py &gt; 240output25.txt</span></pre><pre class="highlight code console substep"><span class="go">5314 __111
5315 __111 __main
1459 __main
1460 __main

240output55.txt : 9108</span></pre><pre class="highlight code console substep"><span class="go">2139 __main
2140 __main
2141
2336 __222
2337 __222

240output55.txt : 9790</span></pre><pre class="highlight code console substep"><span class="go">6059 __111
6060 __111 __main
2142 __main
2143 __main

240output55.txt : 11281</span></pre><pre class="highlight code console substep"><span class="go">1589 __111
1590 __1110 __222
1 __222
2 __222

240output65.txt : 1590</span></pre></div><div class="step step-level-1" step="6" id="thread-in-python-join-i-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><h1 id="thread-python-join-i">Thread Python join(I)</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__111"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__main"</span><span class="p">)</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__111"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">();</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__main"</span><span class="p">)</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span></pre></div><div class="step step-level-1" step="7" id="thread-in-python-join-ii-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><h1 id="thread-python-join-ii">Thread Python join(II)</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">():</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__The second function is called"</span><span class="p">);</span><span class="w">
</span><span class="ln">9 </span><span class="w">
</span><span class="ln">10 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f2</span><span class="p">)</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span><span class="w">
</span><span class="ln">17 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__In main AAA"</span><span class="p">);</span><span class="w">
</span><span class="ln">18 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">19 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span><span class="w">
</span><span class="ln">20 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__In main BBB"</span><span class="p">);</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">():</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">():</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s2">"__The second function is called"</span><span class="p">);</span><span class="w">
</span><span class="ln">9 </span><span class="w">
</span><span class="ln">10 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f2</span><span class="p">)</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">17 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span><span class="w">
</span><span class="ln">18 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__In main"</span><span class="p">);</span></pre></div><div class="step step-level-1" step="8" id="thread-in-python-parameter-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><h1 id="thread-python-parameter">Thread Python parameter</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w">
</span><span class="ln">3 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">j</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">):</span><span class="w">
</span><span class="ln">5 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s2">"__"</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="s2">"__This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">6 </span><span class="w">
</span><span class="ln">7 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">j</span><span class="p">):</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s2">"__"</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="s2">"__This is a test"</span><span class="p">)</span><span class="w">
</span><span class="ln">5 </span><span class="w">
</span><span class="ln">6 </span><span class="w"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="c1">#for i in range(10):  print('OOOOO__',i)</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span>  <span class="c1">#for i in range(10):  print('LLLLL__',i)</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400</span><span class="p">):</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="s2">"iii__"</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span></pre></div><div class="step step-level-1" step="9" id="thread-in-python-sharing-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="thread-python-sharing">Thread Python Sharing</h1><pre class="highlight code python"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="nn">time</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">i</span><span class="p">):</span><span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span><span class="w">
</span><span class="ln">5 </span><span class="w"></span>      <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__"</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="s2">"__"</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="s2">"__1__f1"</span><span class="p">)</span><span class="w">
</span><span class="ln">6 </span><span class="w"></span>      <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__"</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="s2">"__"</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="s2">"__2__f1"</span><span class="p">)</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">);</span><span class="w">
</span><span class="ln">8 </span><span class="w">
</span><span class="ln">9 </span><span class="w"></span><span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span><span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span><span class="n">th3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,))</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span><span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span><span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span><span class="n">th3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span><span class="w">
</span><span class="ln">17 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__main_before"</span><span class="p">);</span><span class="w">
</span><span class="ln">18 </span><span class="w"></span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">"__main_after"</span><span class="p">);</span><span class="w">
</span><span class="ln">19 </span><span class="w"></span>  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">);</span><span class="w">
</span><span class="ln">20 </span><span class="w"></span><span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">21 </span><span class="w"></span><span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="w">
</span><span class="ln">22 </span><span class="w"></span><span class="n">th3</span><span class="o">.</span><span class="n">join</span><span class="p">()</span></pre><pre class="highlight code python substep"><span class="ln">1 </span><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span><span class="o">,</span><span class="w"> </span><span class="nn">time</span><span class="w">
</span><span class="ln">2 </span><span class="w"></span><span class="k">class</span><span class="w"> </span><span class="nc">MyShare</span><span class="p">:</span>  <span class="w">
</span><span class="ln">3 </span><span class="w"></span>  <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">120</span><span class="p">;</span>  <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">end</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">sh1</span><span class="p">):</span><span class="w">
</span><span class="ln">5 </span><span class="w"></span>  <span class="n">sh1</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="ln">6 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5000</span><span class="p">):</span><span class="k">pass</span> <span class="c1">#time.sleep(1)</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"1_1_"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="k">pass</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"1_2_"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="w">
</span><span class="ln">10 </span><span class="w"></span>  <span class="n">sh1</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span><span class="w">
</span><span class="ln">11 </span><span class="w"></span><span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">(</span><span class="n">sh2</span><span class="p">):</span><span class="w">
</span><span class="ln">12 </span><span class="w"></span>  <span class="n">sh2</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span><span class="w">
</span><span class="ln">13 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5000</span><span class="p">):</span><span class="k">pass</span> <span class="c1">#time.sleep(1)</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"2_1_"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="w">
</span><span class="ln">15 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span><span class="k">pass</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>  <span class="nb">print</span><span class="p">(</span><span class="s2">"2_2_"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="w">
</span><span class="ln">17 </span><span class="w"></span>  <span class="n">sh2</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span><span class="w">
</span><span class="ln">18 </span><span class="w"></span><span class="n">myShare</span> <span class="o">=</span> <span class="n">MyShare</span><span class="p">()</span><span class="w">
</span><span class="ln">19 </span><span class="w"></span><span class="n">th1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">myShare</span><span class="p">,))</span><span class="w">
</span><span class="ln">20 </span><span class="w"></span><span class="n">th2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">myShare</span><span class="p">,))</span><span class="w">
</span><span class="ln">21 </span><span class="w"></span><span class="n">th1</span><span class="o">.</span><span class="n">start</span><span class="p">();</span> <span class="n">th2</span><span class="o">.</span><span class="n">start</span><span class="p">();</span> <span class="c1">#time.sleep(1)</span><span class="w">
</span><span class="ln">22 </span><span class="w"></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span> <span class="w">
</span><span class="ln">23 </span><span class="w"></span>  <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">):</span> <span class="k">pass</span><span class="w">
</span><span class="ln">24 </span><span class="w"></span>  <span class="nb">print</span><span class="p">(</span><span class="n">myShare</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
</span><span class="ln">25 </span><span class="w"></span><span class="n">th1</span><span class="o">.</span><span class="n">join</span><span class="p">();</span> <span class="n">th2</span><span class="o">.</span><span class="n">join</span><span class="p">();</span></pre></div><div class="step step-level-1" step="10" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="create-concurrent-parallel-code">Create Concurrent / Parallel Code</h1><img src="img/yoo_graphviz_da3676b747d9c40608a3d1a4ebdf1513.png" class="substep"></div><div class="step step-level-1" step="11" id="cpp-thread-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="c-thread">C++ Thread</h1><pre class="highlight code cpp substep"><span class="ln">1 </span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln">2 </span><span class="cp">#include</span><span class="cpf">&lt;thread&gt;</span><span class="c1"> // 620.cpp</span><span class="cp">
</span><span class="ln">3 </span><span class="cp"></span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="c1">// g++ -std=c++17 -pthread 
</span><span class="ln">5 </span><span class="c1">// clang++ 630.cpp --std=c++17 -lpthread
</span><span class="ln">6 </span><span class="c1"></span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span><span class="w">
</span><span class="ln">7 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In thread "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">8 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"the next output in thread"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">9 </span><span class="w"></span><span class="p">}</span><span class="w">
</span><span class="ln">10 </span><span class="w">
</span><span class="ln">11 </span><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w">
</span><span class="ln">12 </span><span class="w">  </span><span class="kr">thread</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w">
</span><span class="ln">13 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">14 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"second in main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">15 </span><span class="w">  </span><span class="n">t</span><span class="p">.</span><span class="n">join</span><span class="p">();</span><span class="w">
</span><span class="ln">16 </span><span class="w"></span><span class="p">}</span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In main
second in main
In thread
the next output in thread
thread$ ./a.out</span></pre></div><div class="step step-level-1" step="12" id="cpp-thread-join-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="c-thread-join">C++ Thread join</h1><pre class="highlight code cpp substep"><span class="ln">1 </span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln">2 </span><span class="cp">#include</span><span class="cpf">&lt;thread&gt;</span><span class="cp">
</span><span class="ln">3 </span><span class="cp"></span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="c1">// g++ -std=c++17 -pthread 
</span><span class="ln">5 </span><span class="c1"></span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span><span class="w">
</span><span class="ln">6 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In thread "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">7 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"the next output in thread"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span><span class="p">}</span><span class="w">
</span><span class="ln">9 </span><span class="w">
</span><span class="ln">10 </span><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w">
</span><span class="ln">11 </span><span class="w">  </span><span class="kr">thread</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w">
</span><span class="ln">12 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">13 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"second in main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">14 </span><span class="w"></span><span class="p">}</span></pre><pre class="highlight code console substep"><span class="go">thread$ g++ -std=c++17 -pthread 630.cpp 
thread$ ./a.out
In main
second in main
terminate called without an active exception
Aborted (core dumped)
thread$ </span></pre></div><div class="step step-level-1" step="13" id="cpp-thread-func-array-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="array-of-thread">Array of Thread</h1><pre class="highlight code cpp substep"><span class="ln">1 </span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln">2 </span><span class="cp">#include</span><span class="cpf">&lt;thread&gt;</span><span class="cp">
</span><span class="ln">3 </span><span class="cp"></span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w">
</span><span class="ln">4 </span><span class="w"></span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span><span class="w">
</span><span class="ln">5 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In thread "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">6 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"the next output"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span><span class="p">}</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w">
</span><span class="ln">9 </span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">
</span><span class="ln">10 </span><span class="w">  </span><span class="kr">thread</span><span class="w"> </span><span class="n">t</span><span class="p">[</span><span class="n">N</span><span class="p">];</span><span class="w">
</span><span class="ln">11 </span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> 
</span><span class="ln">12 </span><span class="w">    </span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="kr">thread</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w">
</span><span class="ln">13 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">14 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"second in main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">15 </span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span><span class="ln">16 </span><span class="w">    </span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">join</span><span class="p">();</span><span class="w">
</span><span class="ln">17 </span><span class="w"></span><span class="p">}</span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread 
the next outputIn thread 
In thread 
the next output
In main
second in main
In thread 
the next output
the next output

thread$</span></pre></div><div class="step step-level-1" step="14" id="cpp-thread-func-array-out-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="array-of-thread-output">Array of Thread output</h1><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread 
the next outputIn thread 
In thread 
the next output
In main
second in main
In thread 
the next output
the next output

thread$</span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread In main
In thread 

In thread In thread 

the next output
the next outputthe next output
second in main
the next output

thread$ </span></pre></div><div class="step step-level-1" step="15" id="cpp-thread-func-array-out2-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="array-of-thread-output-ii">Array of Thread output(II)</h1><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread In main

second in main
In thread 
the next output
In thread 
the next output
the next output
In thread 
the next output
thread$ </span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread In main

second in main
In thread 
the next output
In thread 
the next output
the next output
In thread 
the next output
thread$ </span></pre></div><div class="step step-level-1" step="16" id="cpp-thread-func-array-out4-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25600" data-y="0" data-z="0"><h1 id="array-of-thread-iii">Array of Thread(III)</h1><pre class="highlight code cpp substep"><span class="ln">1 </span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln">2 </span><span class="cp">#include</span><span class="cpf">&lt;thread&gt;</span><span class="cp">
</span><span class="ln">3 </span><span class="cp"></span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"> </span><span class="c1">// g++ -std=c++17 -pthread 650.cpp 
</span><span class="ln">4 </span><span class="c1"></span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">){</span><span class="w">
</span><span class="ln">5 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In thread : "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">6 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"the next output"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">7 </span><span class="w"></span><span class="p">}</span><span class="w">
</span><span class="ln">8 </span><span class="w"></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w">
</span><span class="ln">9 </span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">
</span><span class="ln">10 </span><span class="w">  </span><span class="kr">thread</span><span class="w"> </span><span class="n">t</span><span class="p">[</span><span class="n">N</span><span class="p">];</span><span class="w">
</span><span class="ln">11 </span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> 
</span><span class="ln">12 </span><span class="w">    </span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="kr">thread</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span><span class="ln">13 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"In main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">14 </span><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"second in main"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">
</span><span class="ln">15 </span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span><span class="ln">16 </span><span class="w">    </span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">join</span><span class="p">();</span><span class="w">
</span><span class="ln">17 </span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="ln">18 </span><span class="w"></span><span class="p">}</span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread In main

second in main
In thread 
the next output
In thread 
the next output
the next output
In thread 
the next output
thread$ </span></pre></div><div class="step step-level-1" step="17" id="cpp-thread-func-array-out5-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27200" data-y="0" data-z="0"><h1 id="array-of-thread-iii-1">Array of Thread(III)</h1><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread : In thread : 02In main
the next output

the next output
In thread : 3
the next output
In thread : 1
the next output

second in main
thread$ </span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread : In thread : 0In thread : 2In main
the next output

second in main

the next output
In thread : 3
the next output
1
the next output
thread$ </span></pre></div><div class="step step-level-1" step="18" id="cpp-thread-func-array-out6-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="28800" data-y="0" data-z="0"><h1 id="array-of-thread-iii-2">Array of Thread(III)</h1><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread : In mainIn thread : In thread : 23
0
the next output
second in main

the next output
In thread : 1
the next output

the next output
thread$ </span></pre><pre class="highlight code console substep"><span class="go">thread$ ./a.out
In thread : In main0
In thread : 1
the next outputIn thread : 
the next output
In thread : 2
the next output
3
the next output

second in main
thread$ </span></pre></div><div class="step step-level-1" step="19" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="30400" data-y="0" data-z="0"><h1 id="threads-and-processes">Threads and Processes</h1><img src="img/a3processes.vs.b1process3thread.png" align="center"></div><div class="step step-level-1" step="20" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="32000" data-y="0" data-z="0"><h1 id="many-to-one-thread">Many to One Thread</h1><img src="img/many2one.svg" width="300px" height="400px" align="center"></div><div class="step step-level-1" step="21" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="33600" data-y="0" data-z="0"><h1 id="different-types-of-threads">Different Types of Threads</h1><img src="img/thread.user_level.kernel.level.png" width="500px" height="350px" align="center"></div><div class="step step-level-1" step="22" id="user-kernel-thread-id" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="35200" data-y="0" data-z="0"><h1 id="user-and-kernel-thread">User and Kernel Thread</h1><ul><li>user threads</li><li>kernel threads</li></ul></div><div class="step step-level-1" step="23" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="36800" data-y="0" data-z="0"><img src="img/thread.A.user_level.threads.package.b.A.threads.package.managed.by.the.kernel.png" width="500px" height="350px" align="center"></div><div class="step step-level-1" step="24" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="38400" data-y="0" data-z="0"><h1 id="section-2">&#1575;&#1585;&#1578;&#1576;&#1575;&#1591; &#1605;&#1740;&#1575;&#1606; &#1581;&#1575;&#1604;&#1578;&#8204;&#1607;&#1575;&#1740; &#1606;&#1582;&#8204;&#1607;&#1575;</h1><img src="img/thread.Examples.of.the.Relationships.between.User_Level.Thread.States.and.Process.States.png" width="500px" height="350px" align="center"></div><div class="step step-level-1" step="25" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="40000" data-y="0" data-z="0"><h1 id="section-3">&#1587;&#1585;&#1608;&#1740;&#1587; &#1583;&#1607;&#1606;&#1583;&#1607;&#1620; &#1608;&#1576; &#1576;&#1575; &#1670;&#1606;&#1583; &#1606;&#1582;</h1><img src="img/thread.A.multithreaded.Web.server.png" width="500px" height="350px" align="center"></div><div class="step step-level-1" step="26" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="41600" data-y="0" data-z="0"><h1 id="threads-in-webserver">Threads in Webserver</h1><img src="img/thread_Multithreaded_server_architecture.png" width="500px" align="center"></div><div class="step step-level-1" step="27" style="width: 1024px;" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="43200" data-y="0" data-z="0"><p>End</p></div></div><div id="slide-number" class="slide-number">
         1
      </div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/gotoSlide.js"></script><script type="text/javascript" src="js/hovercraft.js"></script><script type="text/javascript" src="js/MathJax/es5/tex-mml-chtml.js"></script><script type="text/javascript">
      document.getElementById("impress").addEventListener("impress:stepenter", update_slide_number, false);
    </script></body></html>